clc;clear
syms x1 x2 x3 x4
f = 100*(x1^2-x2)^2+(1-x1)^2+90*(x3^2-x4)^2+(1-x3)^2+10.1*((1-x2)^2+(1-x4)^2)+19.8*(1-x2)*(1-x4);
gradient(f)
hessian(f)

>> gradient(f)
 
ans =
 
           2*x1 - 400*x1*(- x1^2 + x2) - 2
 - 200*x1^2 + (1101*x2)/5 + (99*x4)/5 - 40
           2*x3 - 360*x3*(- x3^2 + x4) - 2
 - 180*x3^2 + (99*x2)/5 + (1001*x4)/5 – 40

>> hessian(f)
 
ans =
 
[ 1200*x1^2 - 400*x2 + 2, -400*x1,                      0,       0]
[                -400*x1,  1101/5,                      0,    99/5]
[                      0,       0, 1080*x3^2 - 360*x4 + 2, -360*x3]
[                      0,    99/5,                -360*x3,  1001/5]
