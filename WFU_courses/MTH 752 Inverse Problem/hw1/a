n=[6,10,14,16];
for i=1:4
    H=hilb(n(i));
    x=ones(n(i),1);
    b=sum(H)';
    str1=sprintf('******************Below are results when n = %d ', n(i));
    disp(str1);
    xinv=inv(H)*b; % here changes 
    r=b-H*xinv
    ans=norm(r)/norm(b);
    str2=sprintf('||r||/||b|| = %d ', ans);
    disp(str2); 
    ans2=norm(x-xinv)/norm(x);
    str3=sprintf('||x-xc||/||x|| = %d ', ans2);
    disp(str3);    
end
******************Below are results when n = 6 
r =
  1.0e-011 *
  -0.168265401612189
   0.151478829479856
   0.241873188144837
   0.274380518305861
   0.284183787613301
   0.283584267180004
||r||/||b|| = 1.679682e-012 
||x-xc||/||x|| = 2.740675e-010 
******************Below are results when n = 10 
r =
  1.0e-003 *
   0.105144957538439
   0.101883822839266
   0.093818217963504
   0.085898362362835
   0.078850642165618
   0.072713480089748
   0.067382861255627
   0.062736108250028
   0.058662465744375
   0.055068944807224
||r||/||b|| = 5.374333e-005 
||x-xc||/||x|| = 2.949614e-004 
******************Below are results when n = 14 
{Warning: Matrix is close to singular or badly scaled.
         Results may be inaccurate. RCOND = 2.448199e-019.} 
r =
  11.211912574059081
   9.643824253303652
   8.578298169798559
   7.777496334628117
   7.138748054779454
   6.610363056712501
   6.162489157997219
   5.776135556189187
   5.438364002908315
   5.139908707056815
   4.873880611178700
   4.635007228245880
   4.419159393609066
   4.223042236819609
||r||/||b|| = 4.513560e+000 
||x-xc||/||x|| = 1.953405e+001 
******************Below are results when n = 16 
{Warning: Matrix is close to singular or badly scaled.
         Results may be inaccurate. RCOND = 9.721674e-019.} 
r =
   0.397759396971457
   0.428331276653672
   0.393492746335850
   0.357423669324823
   0.326067726361362
   0.299431141370129
   0.276742816124820
   0.257252920804415
   0.240351857889448
   0.225562862271497
   0.212514738918966
   0.200916647517570
   0.190538434185226
   0.181195982804337
   0.172740419585506
   0.165050136480576
||r||/||b|| = 1.853781e-001 
||x-xc||/||x|| = 4.407254e+000 
diary off
